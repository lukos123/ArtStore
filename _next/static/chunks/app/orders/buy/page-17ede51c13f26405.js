(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{7534:function(e,t,a){Promise.resolve().then(a.bind(a,6962))},6962:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var r=a(7437),o=a(2845),i=a.n(o),s=a(4514),n=a(2265),d=a(5916),u=a.n(d),l=a(1444),c=a(5219),p=a(1590),m=a(610),f=e=>{let{}=e,t=(0,l.v9)(e=>e.userReducer.orders),a=(0,c.useRouter)(),[o,i]=(0,n.useState)(),[s,d]=(0,n.useState)(""),[f,y]=(0,n.useState)(""),_=(0,l.I0)();return(0,n.useEffect)(()=>{if(t){let e=t.find(e=>"Not Ready"===e.status);e?d(e.delivery):a.push("/orders"),i(e)}},[t]),(0,r.jsxs)("form",{className:u().FormStartOrder,onSubmit:async e=>{if(e.preventDefault(),""!==s&&""!==f&&o&&""===await (0,p.K0)(o.id,s,f)){let{orders:e,err:t}=await (0,p.zk)();""===t&&_(m.h.setOrders(e))}},children:[(0,r.jsx)("label",{htmlFor:"delivery",children:"delivery:"}),(0,r.jsx)("input",{required:!0,type:"text",id:"delivery",value:s,onChange:e=>d(e.target.value)}),(0,r.jsx)("label",{htmlFor:"deliveryTo",children:"address:"}),(0,r.jsx)("input",{required:!0,type:"text",id:"deliveryTo",value:f,onChange:e=>y(e.target.value)}),(0,r.jsx)("input",{required:!0,type:"submit",value:"START ORDER"})]})},y=e=>{let{}=e;return(0,r.jsx)("div",{className:i().page,children:(0,r.jsx)(s.Z,{children:(0,r.jsx)(f,{})})})}},4514:function(e,t,a){"use strict";var r=a(7437),o=a(904),i=a.n(o);t.Z=e=>{let{class_for:t,children:a}=e;return(0,r.jsx)("div",{className:i().Container+" "+t,children:a})}},5219:function(e,t,a){"use strict";var r=a(1169);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},610:function(e,t,a){"use strict";a.d(t,{h:function(){return o}});let r=(0,a(9753).oM)({name:"user",initialState:{id:-1,username:"none",description:"none",email:"none",logo:"none",products:[],comments:[],orders:[],notifications:[],cart_item_groups:[]},reducers:{edit(e,t){e.cart_item_groups=t.payload.cart_item_groups,e.comments=t.payload.comments,e.description=t.payload.description,e.email=t.payload.email,e.id=t.payload.id,e.notifications=t.payload.notifications,e.orders=t.payload.orders,e.username=t.payload.username,e.products=t.payload.products,e.logo=t.payload.logo},setUsername(e,t){e.username=t.payload},setEmail(e,t){e.email=t.payload},setDescription(e,t){e.description=t.payload},setLogo(e,t){e.logo=t.payload},addProduct(e,t){e.products.push(t.payload)},setProduct(e,t){e.products.forEach((a,r)=>{t.payload.id==a.id&&(e.products[r]=t.payload)})},addToCart(e,t){for(let a of e.cart_item_groups)if(a.main){let e=!1;for(let r of a.cart_items)if(r.id==t.payload.id){r.quantity++,e=!0;break}e||a.cart_items.push(t.payload);break}},editCartItem(e,t){for(let a of e.cart_item_groups)if(a.main){a.cart_items.forEach((e,r)=>{e.id==t.payload.id&&(a.cart_items[r]=t.payload)});break}},deleteCartItem(e,t){var a;null===(a=e.cart_item_groups.find(e=>e.main))||void 0===a||a.cart_items.forEach((e,a,r)=>{e.id==t.payload&&r.splice(a,1),console.log(e)})},deleteProduct(e,t){e.products.find((e,a,r)=>(e.id==t.payload&&r.splice(a,1),e.id==t.payload))},setCarts(e,t){e.cart_item_groups=t.payload},setOrders(e,t){e.orders=t.payload},setNotifications(e,t){e.notifications=t.payload},addComment(e,t){e.comments.push(t.payload)}}}),o=r.actions;t.Z=r},2845:function(){},904:function(e){e.exports={Container:"Container_Container__L_q4N"}},5916:function(e){e.exports={FormStartOrder:"FormStartOrder_FormStartOrder__GFSgW"}}},function(e){e.O(0,[941,728,444,753,590,971,23,744],function(){return e(e.s=7534)}),_N_E=e.O()}]);