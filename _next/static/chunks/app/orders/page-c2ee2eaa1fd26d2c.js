(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{2227:function(e,t,a){Promise.resolve().then(a.bind(a,3692))},3692:function(e,t,a){"use strict";a.r(t);var r=a(7437),s=a(2265),i=a(9724),o=a.n(i),n=a(1590),d=a(1444),c=a(610),l=a(4514),u=a(5198);t.default=e=>{let{}=e,t=(0,d.v9)(e=>e.userReducer.orders),a=(0,d.I0)();return(0,s.useEffect)(()=>{(async()=>{let{orders:e,err:t}=await (0,n.zk)();""===t&&a(c.h.setOrders(e))})()},[]),(0,r.jsx)("div",{className:o().page,children:(0,r.jsx)(l.Z,{class_for:o().container,children:t.length?t.map(e=>(0,r.jsx)(u.Z,{order:e},e.id)):"0 orders"})})}},4514:function(e,t,a){"use strict";var r=a(7437),s=a(904),i=a.n(s);t.Z=e=>{let{class_for:t,children:a}=e;return(0,r.jsx)("div",{className:i().Container+" "+t,children:a})}},5198:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var r=a(7437),s=a(7486),i=a.n(s),o=a(4914),n=a.n(o),d=a(1590),c=e=>{let{cart:t,isYour:a=!1}=e;return(0,r.jsx)("div",{className:n().CartFor,children:t.cart_items.map(e=>(0,r.jsxs)("div",{className:n().cart_item,children:[(0,r.jsxs)("h3",{children:[(0,r.jsx)("img",{src:(0,d.Gr)(e.product.image),alt:"img"}),e.name]}),(0,r.jsx)("span",{children:e.status}),(0,r.jsxs)("span",{children:[e.quantity," item"]}),(0,r.jsxs)("span",{children:[e.product.price*e.quantity,"$"]})]},e.id))})},l=a(1444),u=a(610),p=e=>{let{order:t,isYour:a=!1}=e,s=(0,l.I0)();return(0,r.jsxs)("div",{className:i().Order,children:[(0,r.jsxs)("h2",{children:["status:",t.status]}),a&&"Wait for send delivery"===t.status?(0,r.jsx)("h3",{children:"You must send these goods to the correct address"}):"",(0,r.jsxs)("h3",{children:["delivery:",t.delivery]}),(0,r.jsxs)("h3",{children:["address:",t.delivery_to]}),(0,r.jsx)(c,{isYour:a,cart:t.cart_group}),a&&"Wait for send delivery"===t.status?(0,r.jsx)("button",{onClick:async()=>{if(""===await (0,d.y)(t.id)){let{user:e,err:t}=await (0,d.O8)();""===t&&s(u.h.edit(e))}},children:"I sent"}):"",a||"All sent"!==t.status?"":(0,r.jsx)("button",{onClick:async()=>{if(""===await (0,d.yi)(t.id)){let{user:e,err:t}=await (0,d.O8)();""===t&&s(u.h.edit(e))}},children:"Confirm"})]})}},610:function(e,t,a){"use strict";a.d(t,{h:function(){return s}});let r=(0,a(9753).oM)({name:"user",initialState:{id:-1,username:"none",description:"none",email:"none",logo:"none",products:[],comments:[],orders:[],notifications:[],cart_item_groups:[]},reducers:{edit(e,t){e.cart_item_groups=t.payload.cart_item_groups,e.comments=t.payload.comments,e.description=t.payload.description,e.email=t.payload.email,e.id=t.payload.id,e.notifications=t.payload.notifications,e.orders=t.payload.orders,e.username=t.payload.username,e.products=t.payload.products,e.logo=t.payload.logo},setUsername(e,t){e.username=t.payload},setEmail(e,t){e.email=t.payload},setDescription(e,t){e.description=t.payload},setLogo(e,t){e.logo=t.payload},addProduct(e,t){e.products.push(t.payload)},setProduct(e,t){e.products.forEach((a,r)=>{t.payload.id==a.id&&(e.products[r]=t.payload)})},addToCart(e,t){for(let a of e.cart_item_groups)if(a.main){let e=!1;for(let r of a.cart_items)if(r.id==t.payload.id){r.quantity++,e=!0;break}e||a.cart_items.push(t.payload);break}},editCartItem(e,t){for(let a of e.cart_item_groups)if(a.main){a.cart_items.forEach((e,r)=>{e.id==t.payload.id&&(a.cart_items[r]=t.payload)});break}},deleteCartItem(e,t){var a;null===(a=e.cart_item_groups.find(e=>e.main))||void 0===a||a.cart_items.forEach((e,a,r)=>{e.id==t.payload&&r.splice(a,1),console.log(e)})},deleteProduct(e,t){e.products.find((e,a,r)=>(e.id==t.payload&&r.splice(a,1),e.id==t.payload))},setCarts(e,t){e.cart_item_groups=t.payload},setOrders(e,t){e.orders=t.payload},setNotifications(e,t){e.notifications=t.payload},addComment(e,t){e.comments.push(t.payload)}}}),s=r.actions;t.Z=r},9724:function(e){e.exports={page:"page_page__1badp",container:"page_container__PCTdg"}},4914:function(e){e.exports={CartFor:"CartFor_CartFor__yeo2s",cart_item:"CartFor_cart_item__xjIyk"}},904:function(e){e.exports={Container:"Container_Container__L_q4N"}},7486:function(e){e.exports={Order:"OrderBlock_Order__Xc7RZ"}}},function(e){e.O(0,[948,728,444,753,590,971,23,744],function(){return e(e.s=2227)}),_N_E=e.O()}]);