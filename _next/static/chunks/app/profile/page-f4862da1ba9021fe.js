(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{8504:function(e,t,r){Promise.resolve().then(r.bind(r,5895))},5895:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(7437),o=r(4514),i=r(2265),s=r(2018),d=r.n(s),l=r(1444),n=r(1590),u=r(610),c=e=>{let{}=e,t=(0,l.v9)(e=>e.userReducer.id),r=(0,l.v9)(e=>e.userReducer.logo),o=(0,l.v9)(e=>e.userReducer.username),s=(0,l.v9)(e=>e.userReducer.email),c=(0,l.v9)(e=>e.userReducer.description),p=(0,l.I0)(),[m,f]=(0,i.useState)(!0),[_,g]=(0,i.useState)(""),[h,y]=(0,i.useState)(""),[v,x]=(0,i.useState)("user.username"),[b,j]=(0,i.useState)("user.email"),[C,E]=(0,i.useState)("user.description");return(0,i.useEffect)(()=>{let e=(0,n.Gr)(r);e&&y(e),x(o),j(s),E(c)},[o,s,c,r]),(0,a.jsxs)("div",{className:d().FormEditProfile,children:["id:"+t," ",(0,a.jsx)("br",{}),(0,a.jsx)("label",{htmlFor:"username",children:"username:"}),(0,a.jsx)("input",{required:!0,type:"text",id:"username",disabled:m,value:v,onChange:e=>x(e.target.value)}),(0,a.jsx)("br",{}),(0,a.jsx)("label",{htmlFor:"email",children:"email:"}),(0,a.jsx)("input",{required:!0,type:"text",id:"email",disabled:m,value:b,onChange:e=>j(e.target.value)}),(0,a.jsx)("br",{}),(0,a.jsx)("label",{htmlFor:"description",children:"description:"}),(0,a.jsx)("textarea",{required:!0,id:"description",disabled:m,value:C,onChange:e=>E(e.target.value)}),(0,a.jsx)("br",{}),(0,a.jsx)("label",{htmlFor:"form_logo",children:(0,a.jsx)("img",{width:200,src:h,alt:""})}),(0,a.jsx)("input",{hidden:!0,required:!0,type:"file",id:"form_logo",onChange:e=>{var t;if(!(null===(t=e.target.files)||void 0===t?void 0:t.length))return;let r=e.target.files[0];r&&y(URL.createObjectURL(r))},disabled:m}),m?(0,a.jsx)("button",{onClick:()=>{f(e=>!e)},children:"edit"}):(0,a.jsx)("button",{onClick:async()=>{var e;let t=document.querySelector("#form_logo"),a={logo:"",err:""};null!==t&&(null===(e=t.files)||void 0===e?void 0:e.length)&&(a=await (0,n.tZ)(null==t?void 0:t.files[0]));let o=a.err,i=a.logo;if(""!==o){g("img "+o);return}i&&(console.log(r),p(u.h.setLogo(i)));let{user:s,err:d}=await (0,n.uz)(v,b,C);if(""!==d){g("data "+d);return}g("saved "),f(e=>!e),p(u.h.edit(s))},children:"save"}),_]})},p=e=>{let{}=e;return(0,a.jsx)(o.Z,{children:(0,a.jsx)(c,{})})}},4514:function(e,t,r){"use strict";var a=r(7437),o=r(904),i=r.n(o);t.Z=e=>{let{class_for:t,children:r}=e;return(0,a.jsx)("div",{className:i().Container+" "+t,children:r})}},610:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});let a=(0,r(9753).oM)({name:"user",initialState:{id:-1,username:"none",description:"none",email:"none",logo:"none",products:[],comments:[],orders:[],notifications:[],cart_item_groups:[]},reducers:{edit(e,t){e.cart_item_groups=t.payload.cart_item_groups,e.comments=t.payload.comments,e.description=t.payload.description,e.email=t.payload.email,e.id=t.payload.id,e.notifications=t.payload.notifications,e.orders=t.payload.orders,e.username=t.payload.username,e.products=t.payload.products,e.logo=t.payload.logo},setUsername(e,t){e.username=t.payload},setEmail(e,t){e.email=t.payload},setDescription(e,t){e.description=t.payload},setLogo(e,t){e.logo=t.payload},addProduct(e,t){e.products.push(t.payload)},setProduct(e,t){e.products.forEach((r,a)=>{t.payload.id==r.id&&(e.products[a]=t.payload)})},addToCart(e,t){for(let r of e.cart_item_groups)if(r.main){let e=!1;for(let a of r.cart_items)if(a.id==t.payload.id){a.quantity++,e=!0;break}e||r.cart_items.push(t.payload);break}},editCartItem(e,t){for(let r of e.cart_item_groups)if(r.main){r.cart_items.forEach((e,a)=>{e.id==t.payload.id&&(r.cart_items[a]=t.payload)});break}},deleteCartItem(e,t){var r;null===(r=e.cart_item_groups.find(e=>e.main))||void 0===r||r.cart_items.forEach((e,r,a)=>{e.id==t.payload&&a.splice(r,1),console.log(e)})},deleteProduct(e,t){e.products.find((e,r,a)=>(e.id==t.payload&&a.splice(r,1),e.id==t.payload))},setCarts(e,t){e.cart_item_groups=t.payload},setOrders(e,t){e.orders=t.payload},setNotifications(e,t){e.notifications=t.payload},addComment(e,t){e.comments.push(t.payload)}}}),o=a.actions;t.Z=a},904:function(e){e.exports={Container:"Container_Container__L_q4N"}},2018:function(e){e.exports={FormEditProfile:"FormEditProfile_FormEditProfile__lc5qn"}}},function(e){e.O(0,[728,444,753,590,971,23,744],function(){return e(e.s=8504)}),_N_E=e.O()}]);